# Mission100 완전한 사용자 플로우

## 🎯 전체 여정: 온보딩부터 운동 종료까지

**사용자**: 김철수 (30세, 운동 초보)
**목표**: 100일 운동 챌린지 완수

---

## 📱 Chapter 1: 첫 만남 (온보딩)

### 1.1 앱 다운로드 및 설치

```
Google Play Store
└─ "Mission100" 검색
└─ 설치 버튼 클릭
└─ 다운로드 (약 50MB)
└─ 설치 완료
└─ "열기" 클릭
```

### 1.2 스플래시 스크린 (1-2초)

```dart
// 앱 시작
SplashScreen
├─ Mission100 로고 표시
├─ Firebase 초기화
├─ SharedPreferences 로드
└─ 다음 화면 결정:
    ├─ 첫 실행 → 온보딩 화면
    └─ 기존 사용자 → 로그인 상태 확인
        ├─ 로그인됨 → 홈 화면
        └─ 로그아웃 → 로그인 화면
```

**로그**:
```
✓ Firebase 초기화 완료
✓ 첫 실행 감지
→ 온보딩 화면으로 이동
```

---

### 1.3 온보딩 화면 (1/3): 환영 메시지

```
┌─────────────────────────┐
│   🏋️ Mission100      │
│                         │
│   100일 운동 챌린지    │
│   당신의 변화가        │
│   시작됩니다!          │
│                         │
│   [다음 →]             │
│   [건너뛰기]           │
└─────────────────────────┘
```

**사용자 액션**: "다음" 버튼 클릭

---

### 1.4 온보딩 화면 (2/3): 프로그램 소개

```
┌─────────────────────────┐
│   📅 14주 프로그램     │
│                         │
│   Week 1-2: 기초 다지기│
│   Week 3-6: 근력 향상  │
│   Week 7-10: 지구력    │
│   Week 11-14: 완성     │
│                         │
│   [← 이전] [다음 →]   │
└─────────────────────────┘
```

**사용자 액션**: "다음" 버튼 클릭

---

### 1.5 온보딩 화면 (3/3): Chad 소개

```
┌─────────────────────────┐
│   💪 Chad와 함께      │
│                         │
│   당신의 AI 트레이너   │
│   Chad가 동기부여하고  │
│   진행도를 추적합니다! │
│                         │
│   "Drop and give me    │
│    20, soldier!"       │
│                         │
│   [시작하기 →]         │
└─────────────────────────┘
```

**사용자 액션**: "시작하기" 버튼 클릭

---

## 🔐 Chapter 2: 계정 생성

### 2.1 회원가입 화면

```
┌─────────────────────────┐
│   계정 만들기           │
│                         │
│   이메일:              │
│   [________________]   │
│                         │
│   비밀번호:            │
│   [________________]   │
│                         │
│   비밀번호 확인:       │
│   [________________]   │
│                         │
│   [Google로 계속하기]  │
│   [회원가입]           │
│                         │
│   이미 계정이 있나요?  │
│   [로그인]             │
└─────────────────────────┘
```

**사용자 입력**:
```
이메일: chulsoo@gmail.com
비밀번호: ********
비밀번호 확인: ********
```

**사용자 액션**: "회원가입" 버튼 클릭

---

### 2.2 회원가입 처리

```dart
// lib/services/auth_service.dart
Future<void> signUpWithEmail(String email, String password) async {
  try {
    // 1. Firebase Authentication
    UserCredential userCredential = await FirebaseAuth.instance
        .createUserWithEmailAndPassword(
          email: email,
          password: password,
        );

    // 2. Firestore 사용자 프로필 생성
    await FirebaseFirestore.instance
        .collection('users')
        .doc(userCredential.user!.uid)
        .set({
          'email': email,
          'createdAt': FieldValue.serverTimestamp(),
          'displayName': email.split('@')[0],
        });

    // 3. CloudSync 초기화
    await CloudSyncService().initialize();

    // 4. 프로필 추가 정보 화면으로 이동
    Navigator.pushReplacement(context, ProfileSetupScreen());

  } catch (e) {
    // 에러 처리
    showErrorDialog(context, e.message);
  }
}
```

**Firebase Console**:
```
Authentication > 사용자
├─ UID: abc123def456
├─ 이메일: chulsoo@gmail.com
├─ 생성일: 2025-10-01 14:30:00
└─ 로그인 제공업체: 이메일/비밀번호

Firestore > users > abc123def456
├─ email: "chulsoo@gmail.com"
├─ displayName: "chulsoo"
├─ createdAt: Timestamp(2025-10-01 14:30:00)
├─ totalWorkouts: 0
├─ currentLevel: 1
└─ currentStreak: 0
```

---

### 2.3 프로필 설정 화면

```
┌─────────────────────────┐
│   프로필 완성하기       │
│                         │
│   닉네임:              │
│   [철수___________]    │
│                         │
│   나이:                │
│   [30_____________]    │
│                         │
│   성별:                │
│   ◉ 남성  ○ 여성      │
│                         │
│   운동 경험:           │
│   ◉ 초보자            │
│   ○ 중급자            │
│   ○ 고급자            │
│                         │
│   [완료]               │
└─────────────────────────┘
```

**사용자 입력**:
```
닉네임: 철수
나이: 30
성별: 남성
운동 경험: 초보자
```

**사용자 액션**: "완료" 버튼 클릭

---

### 2.4 프로필 저장

```dart
// Firestore 업데이트
await FirebaseFirestore.instance
    .collection('userProfiles')
    .doc(userId)
    .set({
      'displayName': '철수',
      'age': 30,
      'gender': 'male',
      'fitnessLevel': 'beginner',
      'settings': {
        'chadMode': 'normal',
        'notificationsEnabled': true,
        'reminderTime': '09:00',
      },
      'updatedAt': FieldValue.serverTimestamp(),
    });

// 운동 진행도 초기화
await FirebaseFirestore.instance
    .collection('workoutProgress')
    .doc(userId)
    .set({
      'currentWeek': 1,
      'currentDay': 1,
      'unlockedWeeks': [1],
      'completedWorkouts': [],
      'currentStreak': 0,
      'longestStreak': 0,
    });
```

**결과**: 홈 화면으로 이동

---

## 🏠 Chapter 3: 홈 화면 (무료 사용자)

### 3.1 홈 화면 레이아웃

```
┌─────────────────────────┐
│ ☰  Mission100     👤   │ ← 헤더
├─────────────────────────┤
│                         │
│   안녕하세요, 철수님!  │
│   오늘도 화이팅! 💪    │
│                         │
│   ┌─────────────────┐  │
│   │ Week 1, Day 1   │  │
│   │ 오늘의 운동     │  │
│   │                 │  │
│   │ 푸시업 × 3세트  │  │
│   │ 플랭크 60초     │  │
│   │                 │  │
│   │ [시작하기 →]   │  │
│   └─────────────────┘  │
│                         │
│   📊 나의 진행 상황    │
│   ┌─────────────────┐  │
│   │ 완료: 0/98일    │  │
│   │ 연속: 0일       │  │
│   │ 레벨: 1         │  │
│   └─────────────────┘  │
│                         │
│   [광고 배너]          │ ← 무료 사용자
│                         │
├─────────────────────────┤
│  🏠  📊  ⚙️  💎     │ ← 하단 네비게이션
└─────────────────────────┘
```

**Chad의 메시지** (상단 알림):
```
💪 Chad: "Drop and give me 20, soldier!
         오늘의 운동을 시작하자!"
```

---

### 3.2 프리미엄 배너 (무료 사용자)

```
┌─────────────────────────┐
│   💎 프리미엄 구독     │
│                         │
│   ✓ 무제한 운동 기록   │
│   ✓ 고급 통계 분석     │
│   ✓ 광고 제거          │
│   ✓ 프리미엄 Chad      │
│                         │
│   [지금 구독하기 →]   │
└─────────────────────────┘
```

**사용자 생각**: "일단 무료로 해보자"
**사용자 액션**: 배너 무시, "시작하기" 버튼 클릭

---

## 💪 Chapter 4: 운동 시작 (Week 1, Day 1)

### 4.1 운동 준비 화면

```
┌─────────────────────────┐
│   Week 1, Day 1         │
│                         │
│   📋 오늘의 운동       │
│                         │
│   1. 푸시업             │
│      • 10회 × 3세트    │
│      • 세트간 휴식 60초│
│                         │
│   2. 플랭크             │
│      • 30초 × 3세트    │
│      • 세트간 휴식 45초│
│                         │
│   3. 스쿼트             │
│      • 15회 × 3세트    │
│      • 세트간 휴식 60초│
│                         │
│   예상 시간: 20분      │
│                         │
│   [운동 시작!]         │
│   [← 뒤로가기]         │
└─────────────────────────┘
```

**Chad의 메시지**:
```
💪 Chad: "준비됐나, soldier?
         Let's crush this workout!"
```

**사용자 액션**: "운동 시작!" 버튼 클릭

---

### 4.2 운동 실행 화면 (푸시업 - 1/3세트)

```
┌─────────────────────────┐
│   푸시업 - 세트 1/3    │
│                         │
│        ┌─────┐          │
│        │     │          │
│        │ 10  │          │ ← 목표 횟수
│        │     │          │
│        └─────┘          │
│                         │
│   [스타트 타이머]       │
│                         │
│   완료 횟수:           │
│   [0] [5] [10] [15]    │ ← 빠른 입력
│                         │
│   또는 직접 입력:      │
│   [_____________]      │
│                         │
│   [완료] [건너뛰기]    │
└─────────────────────────┘
```

**Chad의 응원**:
```
💪 Chad: "Come on! Push harder!
         You got this!"
```

**사용자 액션**:
1. "스타트 타이머" 클릭
2. 푸시업 10개 수행
3. "10" 버튼 클릭 (또는 직접 입력)
4. "완료" 버튼 클릭

---

### 4.3 휴식 타이머 (세트 간)

```
┌─────────────────────────┐
│   휴식 시간             │
│                         │
│        ┌─────┐          │
│        │     │          │
│        │ 57  │          │ ← 카운트다운
│        │     │          │
│        └─────┘          │
│                         │
│   다음: 푸시업 세트 2  │
│                         │
│   [건너뛰기]           │
└─────────────────────────┘
```

**Chad의 메시지**:
```
💪 Chad: "숨을 고르고,
         다음 세트 준비!"
```

**60초 후 자동 진행**: 푸시업 세트 2/3

---

### 4.4 운동 계속 진행

```
세트 진행 순서:
푸시업 세트 1/3 (10회) ✓
  ↓ 휴식 60초
푸시업 세트 2/3 (10회) ✓
  ↓ 휴식 60초
푸시업 세트 3/3 (10회) ✓
  ↓
플랭크 세트 1/3 (30초) ✓
  ↓ 휴식 45초
플랭크 세트 2/3 (30초) ✓
  ↓ 휴식 45초
플랭크 세트 3/3 (30초) ✓
  ↓
스쿼트 세트 1/3 (15회) ✓
  ↓ 휴식 60초
스쿼트 세트 2/3 (15회) ✓
  ↓ 휴식 60초
스쿼트 세트 3/3 (15회) ✓
```

**실제 소요 시간**: 22분 (예상보다 2분 더)

---

### 4.5 운동 완료 화면

```
┌─────────────────────────┐
│   🎉 운동 완료!        │
│                         │
│   오늘의 성과:         │
│                         │
│   ⏱️  소요 시간: 22분 │
│   💪 완료 운동: 3개   │
│   🔥 획득 XP: 50      │
│                         │
│   푸시업: 30회 완료    │
│   플랭크: 90초 완료    │
│   스쿼트: 45회 완료    │
│                         │
│   레벨 업! 🎊         │
│   레벨 1 → 레벨 2      │
│                         │
│   [통계 보기]          │
│   [홈으로]             │
└─────────────────────────┘
```

**Chad의 축하**:
```
💪 Chad: "Outstanding, soldier!
         You crushed it today!
         내일도 이 기세로!"
```

**Firestore 저장**:
```javascript
// workoutRecords 컬렉션
{
  userId: "abc123def456",
  week: 1,
  day: 1,
  exercises: [
    {
      name: "푸시업",
      sets: [
        { target: 10, actual: 10, completed: true },
        { target: 10, actual: 10, completed: true },
        { target: 10, actual: 10, completed: true },
      ],
    },
    {
      name: "플랭크",
      sets: [
        { target: 30, actual: 30, completed: true },
        { target: 30, actual: 30, completed: true },
        { target: 30, actual: 30, completed: true },
      ],
    },
    {
      name: "스쿼트",
      sets: [
        { target: 15, actual: 15, completed: true },
        { target: 15, actual: 15, completed: true },
        { target: 15, actual: 15, completed: true },
      ],
    },
  ],
  status: "completed",
  completedAt: Timestamp(2025-10-01 15:00:00),
  durationSeconds: 1320, // 22분
  xpEarned: 50,
}

// workoutProgress 업데이트
{
  currentWeek: 1,
  currentDay: 2, // 다음 날로 자동 진행
  completedWorkouts: [
    { week: 1, day: 1, completedAt: "2025-10-01", xp: 50 }
  ],
  currentStreak: 1, // 1일 연속
  longestStreak: 1,
  totalXp: 50,
}

// userProfiles 업데이트
{
  totalWorkouts: 1,
  totalXp: 50,
  currentLevel: 2, // 레벨 업!
  lastWorkoutDate: "2025-10-01",
}
```

**사용자 액션**: "홈으로" 버튼 클릭

---

## 📊 Chapter 5: 통계 화면 확인

### 5.1 사용자의 호기심

홈 화면으로 돌아온 후, 하단 네비게이션에서 "📊 통계" 탭 클릭

---

### 5.2 통계 화면 (무료 사용자)

```
┌─────────────────────────┐
│   📊 나의 통계         │
│                         │
│   ┌─────────────────┐  │
│   │ 총 운동: 1일    │  │
│   │ 연속: 1일 🔥   │  │
│   │ 레벨: 2         │  │
│   │ 총 XP: 50       │  │
│   └─────────────────┘  │
│                         │
│   이번 주 진행률       │
│   [▓░░░░░░] 14%        │
│                         │
│   💎 프리미엄 전용     │
│   ┌─────────────────┐  │
│   │ 🔒 고급 통계    │  │
│   │ • 근력 변화     │  │
│   │ • 칼로리 추적   │  │
│   │ • 신체 측정     │  │
│   │                 │  │
│   │ [구독하기 →]   │  │
│   └─────────────────┘  │
│                         │
│   [광고 배너]          │
└─────────────────────────┘
```

**사용자 생각**: "고급 통계는 나중에... 일단 계속 운동하자"

---

## 📅 Chapter 6: 지속적인 운동 (Day 2-7)

### 6.1 알림 받기 (다음 날 아침)

**2025-10-02 09:00 AM**
```
📱 푸시 알림

💪 Chad가 기다립니다!
"Get your ass up, soldier!
 오늘의 운동을 시작할 시간!"

[앱 열기]
```

**사용자 액션**: 알림 클릭 → 앱 열기

---

### 6.2 연속 운동 (Day 2-7)

```
Day 2: Week 1, Day 2 완료 ✓
Day 3: Week 1, Day 3 완료 ✓
Day 4: Week 1, Day 4 완료 ✓
Day 5: Week 1, Day 5 완료 ✓
Day 6: Week 1, Day 6 완료 ✓
Day 7: Week 1, Day 7 완료 ✓

연속 기록: 7일 🔥🔥🔥
```

**Firestore 상태**:
```javascript
{
  currentWeek: 2,  // Week 2로 자동 진행
  currentDay: 1,
  completedWorkouts: 7개,
  currentStreak: 7,  // 7일 연속!
  longestStreak: 7,
  totalXp: 350,
  currentLevel: 8,
}
```

---

### 6.3 Week 1 완료 화면

```
┌─────────────────────────┐
│   🎊 Week 1 완료!      │
│                         │
│   놀라운 시작입니다!   │
│                         │
│   📈 이번 주 성과:     │
│   • 7일 연속 달성 🔥  │
│   • 총 210회 푸시업    │
│   • 총 21분 플랭크     │
│   • 획득 XP: 350       │
│                         │
│   다음: Week 2가       │
│   잠금 해제되었습니다! │
│                         │
│   [Week 2 시작하기]    │
└─────────────────────────┘
```

**Chad의 칭찬**:
```
💪 Chad: "Impressive work, soldier!
         One week down, thirteen to go!
         You're stronger than you think!"
```

---

## 💎 Chapter 7: 프리미엄 전환 결정

### 7.1 무료 사용 제한 (Day 10)

**2025-10-11 오후**

운동 완료 후:

```
┌─────────────────────────┐
│   ⚠️ 일일 제한 도달   │
│                         │
│   무료 사용자는 하루   │
│   3개 운동까지 가능    │
│                         │
│   오늘 완료한 운동:    │
│   ✓ 푸시업             │
│   ✓ 플랭크             │
│   ✓ 스쿼트             │
│                         │
│   더 많은 운동을 하려면│
│   프리미엄으로 업그레이드│
│                         │
│   [프리미엄 보기]      │
│   [내일 다시]          │
└─────────────────────────┘
```

**사용자 생각**: "10일이나 했는데... 이제 진지하게 할 때가 됐나?"
**사용자 액션**: "프리미엄 보기" 클릭

---

### 7.2 구독 화면

```
┌─────────────────────────┐
│   💎 프리미엄 구독     │
│                         │
│   ┌─────────────────┐  │
│   │ 월간 플랜       │  │
│   │ ₩9,900/월       │  │
│   │                 │  │
│   │ [선택하기]      │  │
│   └─────────────────┘  │
│                         │
│   ┌─────────────────┐  │
│   │ 연간 플랜 🏷️   │  │
│   │ ₩99,000/년      │  │
│   │ (17% 할인)      │  │
│   │                 │  │
│   │ [선택하기]      │  │ ← 인기!
│   └─────────────────┘  │
│                         │
│   혜택:                │
│   ✓ 무제한 운동 기록   │
│   ✓ 고급 통계 분석     │
│   ✓ 광고 제거          │
│   ✓ 프리미엄 Chad      │
│   ✓ 독점 도전과제      │
│                         │
│   [복원하기]           │
└─────────────────────────┘
```

**사용자 생각**: "연간 플랜이 더 저렴하네... 어차피 100일 도전이니까!"
**사용자 액션**: "연간 플랜 선택하기" 클릭

---

### 7.3 Google Play 결제 화면

```
┌─────────────────────────┐
│   Google Play 결제      │
│                         │
│   상품: Mission100      │
│   프리미엄 연간         │
│                         │
│   가격: ₩99,000        │
│                         │
│   결제 수단:           │
│   ● [카드] ****1234    │
│   ○ Google Pay         │
│   ○ 다른 카드 추가     │
│                         │
│   [구매]               │
│   [취소]               │
└─────────────────────────┘
```

**사용자 액션**: "구매" 버튼 클릭

---

### 7.4 결제 처리 중

```
┌─────────────────────────┐
│                         │
│   결제 처리 중...       │
│                         │
│   ⏳ [로딩 애니메이션] │
│                         │
└─────────────────────────┘
```

**백엔드 처리**:
```dart
// 1. Google Play Billing 결제
PurchaseDetails purchase = await InAppPurchase.instance
    .buyNonConsumable(productId: 'premium_yearly');

// 2. 영수증 검증
VerificationResult result = await PaymentVerificationService()
    .verifyPurchase(purchase);

// 3. Firestore 구독 활성화
await FirebaseFirestore.instance
    .collection('subscriptions')
    .doc(userId)
    .set({
      'productId': 'premium_yearly',
      'status': 'active',
      'platform': 'google_play',
      'purchaseToken': purchase.purchaseID,
      'startDate': DateTime.now(),
      'expiryDate': DateTime.now().add(Duration(days: 365)),
      'autoRenewing': true,
    });

// 4. 사용자 프로필 업데이트
await SubscriptionService().activateSubscription('premium_yearly');
```

---

### 7.5 결제 완료 화면

```
┌─────────────────────────┐
│   🎉 환영합니다!       │
│                         │
│   프리미엄 구독이       │
│   활성화되었습니다!     │
│                         │
│   이제 다음 혜택을      │
│   이용하실 수 있습니다: │
│                         │
│   ✓ 무제한 운동 기록   │
│   ✓ 고급 통계 분석     │
│   ✓ 광고 없는 환경     │
│   ✓ 프리미엄 Chad      │
│   ✓ 독점 도전과제      │
│                         │
│   [시작하기]           │
└─────────────────────────┘
```

**Chad의 환영**:
```
💎 Chad (프리미엄):
   "Welcome to the elite squad, soldier!
    이제 진짜 시작이야!"
```

**사용자 액션**: "시작하기" 클릭 → 홈 화면

---

### 7.6 프리미엄 홈 화면

```
┌─────────────────────────┐
│ ☰  Mission100 💎   👤  │ ← 프리미엄 배지
├─────────────────────────┤
│                         │
│   안녕하세요, 철수님!  │
│   프리미엄 회원님! 💎  │
│                         │
│   ┌─────────────────┐  │
│   │ Week 2, Day 4   │  │
│   │ 오늘의 운동     │  │
│   │                 │  │
│   │ [시작하기 →]   │  │
│   └─────────────────┘  │
│                         │
│   📊 상세 진행 상황    │
│   ┌─────────────────┐  │
│   │ 근력 지수: ↗️   │  │
│   │ 지구력: ↗️      │  │
│   │ 유연성: →       │  │
│   └─────────────────┘  │
│                         │
│   [광고 없음]          │ ← 깔끔!
│                         │
├─────────────────────────┤
│  🏠  📊  💎  ⚙️      │
└─────────────────────────┘
```

**차이점**:
- ✅ 광고 없음
- ✅ 고급 통계 표시
- ✅ 프리미엄 배지 표시
- ✅ 무제한 운동 가능

---

## 🎯 Chapter 8: 지속적인 운동 (Week 2-14)

### 8.1 꾸준한 운동 (Day 11-98)

```
Week 2: 완료 ✓ (7/7일)
Week 3: 완료 ✓ (7/7일)
Week 4: 완료 ✓ (7/7일)
...
Week 13: 완료 ✓ (7/7일)
Week 14: 진행 중 (5/7일)
```

**중간 성과** (Day 50):
```
┌─────────────────────────┐
│   🎊 50일 달성!        │
│                         │
│   반환점을 넘었습니다! │
│                         │
│   📈 성과:             │
│   • 연속 50일 🔥       │
│   • 총 푸시업: 2,500회 │
│   • 총 플랭크: 125분   │
│   • 레벨: 25           │
│                         │
│   신체 변화:           │
│   • 근력 +45%          │
│   • 지구력 +60%        │
│   • 체지방 -8%         │
│                         │
│   [계속하기]           │
└─────────────────────────┘
```

---

### 8.2 도전과제 달성

**Day 70**:

```
┌─────────────────────────┐
│   🏆 도전과제 달성!    │
│                         │
│   "철인 전사"          │
│                         │
│   70일 연속 운동 완료! │
│                         │
│   보상:                │
│   • 프리미엄 Chad 스킨 │
│   • 특별 배지          │
│   • 500 XP             │
│                         │
│   [확인]               │
└─────────────────────────┘
```

**Firestore 업데이트**:
```javascript
// achievements 컬렉션
{
  achievementId: "iron_warrior_70",
  type: "streak",
  progress: 70,
  target: 70,
  completed: true,
  completedAt: Timestamp(2025-12-10),
  xpReward: 500,
}
```

---

## 🎉 Chapter 9: Mission 완료! (Day 100)

### 9.1 최종 운동 완료

**2026-01-08**

Week 14, Day 7 (마지막 운동) 완료 후:

```
┌─────────────────────────┐
│   🎊🎉🎊🎉🎊         │
│                         │
│   MISSION COMPLETE!     │
│                         │
│   100일 도전 완수!     │
│                         │
│   당신은 해냈습니다!   │
│                         │
│   [최종 결과 보기]     │
└─────────────────────────┘
```

---

### 9.2 최종 통계 화면

```
┌─────────────────────────┐
│   🏆 100일의 기록      │
│                         │
│   완료율: 98/98일       │
│   연속 기록: 98일 🔥   │
│   (휴식일 2일 제외)    │
│                         │
│   총 운동량:           │
│   • 푸시업: 7,350회    │
│   • 플랭크: 245분      │
│   • 스쿼트: 5,880회    │
│   • 기타: 다양한 운동  │
│                         │
│   신체 변화:           │
│   • 근력: +120% 💪     │
│   • 지구력: +150% 🏃  │
│   • 체지방: -15% 📉   │
│   • 체중: -5kg         │
│                         │
│   달성 레벨: 50        │
│   총 XP: 25,000        │
│                         │
│   [공유하기]           │
│   [다시 시작하기]      │
└─────────────────────────┘
```

---

### 9.3 Chad의 최종 메시지

```
┌─────────────────────────┐
│   💪 Chad의 메시지     │
│                         │
│   "Soldier, I'm proud   │
│    of you!              │
│                         │
│    100일 전 당신은     │
│    초보자였지만,       │
│    지금은 진정한       │
│    전사입니다!         │
│                         │
│    This is not the end. │
│    This is just the     │
│    beginning!           │
│                         │
│    Ready for Mission    │
│    200?"                │
│                         │
│   [Mission 200 시작]   │
│   [나중에]             │
└─────────────────────────┘
```

---

### 9.4 SNS 공유

```
┌─────────────────────────┐
│   공유하기              │
│                         │
│   [인스타그램]         │
│   [페이스북]           │
│   [트위터]             │
│   [카카오톡]           │
│                         │
│   공유 내용:           │
│   ─────────────────    │
│   🎊 Mission100 완료! │
│                         │
│   100일간의 여정       │
│   - 98일 연속 운동     │
│   - 레벨 50 달성       │
│                         │
│   당신도 할 수 있어요! │
│   #Mission100          │
│   #운동챌린지          │
│   ─────────────────    │
│                         │
│   [공유]               │
└─────────────────────────┘
```

**사용자 액션**: 인스타그램에 공유

---

## 📱 Chapter 10: 앱 종료 및 지속

### 10.1 홈 화면으로 복귀

```
┌─────────────────────────┐
│ ☰  Mission100 💎   👤  │
├─────────────────────────┤
│                         │
│   축하합니다, 철수님!  │
│   Mission 100 완료! 🎊│
│                         │
│   ┌─────────────────┐  │
│   │ 새로운 도전     │  │
│   │                 │  │
│   │ Mission 200     │  │
│   │ (고급 프로그램) │  │
│   │                 │  │
│   │ [도전하기 →]   │  │
│   └─────────────────┘  │
│                         │
│   또는                 │
│                         │
│   ┌─────────────────┐  │
│   │ 유지 모드       │  │
│   │ (주 3회 운동)   │  │
│   │                 │  │
│   │ [시작하기]      │  │
│   └─────────────────┘  │
│                         │
├─────────────────────────┤
│  🏠  📊  💎  ⚙️      │
└─────────────────────────┘
```

---

### 10.2 설정에서 알림 조정

사용자가 Settings 탭 클릭:

```
┌─────────────────────────┐
│   ⚙️ 설정              │
│                         │
│   프로필               │
│   ├─ 철수님 (💎)      │
│   └─ [편집]            │
│                         │
│   알림                 │
│   ├─ ☑ 운동 알림       │
│   ├─ ☑ 연속 기록 알림  │
│   └─ ☑ 도전과제 알림   │
│                         │
│   구독 관리             │
│   ├─ 프리미엄 (연간)   │
│   ├─ 만료일: 2026-10-11│
│   └─ [구독 관리]       │
│                         │
│   Chad 설정            │
│   ├─ 강도: ●●●○○     │
│   └─ 모드: 동기부여    │
│                         │
│   데이터                │
│   ├─ [내보내기]        │
│   ├─ [동기화]          │
│   └─ [백업]            │
│                         │
│   앱 정보               │
│   ├─ 버전: 1.0.0       │
│   └─ [로그아웃]        │
└─────────────────────────┘
```

**사용자 액션**:
- 알림 시간을 오전 7시로 변경
- Chad 강도를 중간으로 조절
- "저장" 버튼 클릭

---

### 10.3 앱 종료

**사용자 생각**: "오늘은 여기까지. 내일 Mission 200 시작해볼까?"

**사용자 액션**:
1. 홈 버튼 눌러서 백그라운드로 이동
2. 또는 최근 앱 버튼으로 완전 종료

**앱 상태**:
```dart
@override
void dispose() {
  // 리소스 정리
  CloudSyncService().dispose();
  NotificationService().dispose();
  super.dispose();
}
```

**Firebase 마지막 동기화**:
```javascript
// userProfiles 업데이트
{
  lastActiveAt: Timestamp(2026-01-08 20:00:00),
  appVersion: "1.0.0",
  deviceInfo: {
    platform: "android",
    version: "14",
  }
}
```

---

## 📊 전체 여정 요약

### 타임라인

```
Day 0:  앱 다운로드 및 회원가입
Day 1:  첫 운동 완료 (Week 1, Day 1)
Day 7:  Week 1 완료 🎉
Day 10: 프리미엄 구독 💎
Day 50: 반환점 돌파 🔥
Day 70: 도전과제 달성 🏆
Day 98: Week 14, Day 7 완료
Day 100: MISSION COMPLETE! 🎊
```

### 수치로 보는 성과

```
운동 일수: 98일 (휴식일 2일)
연속 기록: 98일 🔥
총 운동 시간: 32시간 40분
총 푸시업: 7,350회
총 플랭크: 245분 (4시간 5분)
총 스쿼트: 5,880회
획득 XP: 25,000
달성 레벨: 50
완료 도전과제: 15개
```

### Firebase 최종 데이터

```javascript
// 사용자 프로필
{
  userId: "abc123def456",
  displayName: "철수",
  email: "chulsoo@gmail.com",

  // 통계
  totalWorkouts: 98,
  totalXp: 25000,
  currentLevel: 50,
  currentStreak: 98,
  longestStreak: 98,

  // 구독
  isPremium: true,
  subscriptionType: "premium_yearly",
  subscriptionExpiry: "2026-10-11",

  // 타임스탬프
  createdAt: "2025-10-01",
  lastActiveAt: "2026-01-08",
}

// 운동 기록
workoutRecords: 98개 문서
workoutProgress: Week 14, Day 7 완료
achievements: 15개 달성

// 구독 정보
subscriptions: {
  status: "active",
  platform: "google_play",
  productId: "premium_yearly",
  autoRenewing: true,
}
```

---

## 🎯 핵심 플로우 체크포인트

### 1. 온보딩 (0-5분)
- [x] 스플래시 → 온보딩 3단계
- [x] 회원가입 (이메일 또는 Google)
- [x] 프로필 설정
- [x] 홈 화면 진입

### 2. 첫 운동 (5-30분)
- [x] 운동 준비 화면 확인
- [x] 운동 실행 (푸시업, 플랭크, 스쿼트)
- [x] 휴식 타이머
- [x] 운동 완료 및 XP 획득
- [x] Firestore 동기화

### 3. 무료 사용 (Day 1-10)
- [x] 일일 3개 운동 제한
- [x] 기본 통계 확인
- [x] 광고 표시
- [x] 프리미엄 배너 노출

### 4. 결제 전환 (Day 10)
- [x] 사용 제한 알림
- [x] 구독 화면 진입
- [x] Google Play 결제
- [x] 영수증 검증
- [x] 구독 활성화
- [x] 프리미엄 기능 해제

### 5. 프리미엄 사용 (Day 11-100)
- [x] 무제한 운동
- [x] 고급 통계 확인
- [x] 광고 없는 환경
- [x] 독점 도전과제
- [x] 프리미엄 Chad

### 6. Mission 완료 (Day 100)
- [x] 최종 통계 확인
- [x] 도전과제 완수
- [x] SNS 공유
- [x] 새로운 도전 제안

---

## 🔄 지속적인 사용 패턴

### 일일 루틴

```
아침 9:00: 알림 수신
   ↓
앱 열기
   ↓
홈 화면 → "시작하기" 클릭
   ↓
오늘의 운동 확인
   ↓
운동 실행 (20-30분)
   ↓
완료 화면 → XP 획득
   ↓
통계 확인 (선택)
   ↓
앱 종료
```

### 주간 루틴

```
월-토: 운동 (6일)
일: 휴식일
```

### 월간 패턴

```
Week 1: 기초 운동
Week 2: 강도 증가
Week 3: 근력 집중
Week 4: 지구력 강화
```

---

## 📱 기술적 플로우

### Firebase 동기화

```
앱 시작
   ↓
Firebase Auth 확인
   ↓
CloudSync 초기화
   ↓
Firestore 데이터 로드
   ├─ users
   ├─ userProfiles
   ├─ workoutProgress
   ├─ subscriptions
   └─ achievements
   ↓
로컬 캐시 업데이트
   ↓
UI 렌더링
```

### 오프라인 지원

```
네트워크 끊김 감지
   ↓
로컬 변경사항 큐에 저장
   ↓
SharedPreferences에 영구 저장
   ↓
네트워크 복귀 감지
   ↓
대기 중인 변경사항 동기화
   ↓
Firestore 업데이트
```

---

## 🎉 결론

Mission100 앱은 사용자를 **온보딩**부터 **100일 완주**까지 완벽하게 안내합니다:

1. ✅ **쉬운 시작**: 3단계 온보딩 + 간편한 회원가입
2. ✅ **점진적 학습**: 첫 운동부터 자연스러운 UX
3. ✅ **동기 부여**: Chad의 응원 + 시각적 진행도
4. ✅ **유연한 수익화**: 무료 체험 → 자연스러운 프리미엄 전환
5. ✅ **지속적 참여**: 알림, 도전과제, 통계
6. ✅ **성취감**: 레벨 업, XP, 100일 완료 축하

**핵심 성공 요소**:
- 💪 Chad의 재미있는 동기부여
- 📊 시각적 진행도 추적
- 🔥 연속 기록 (Streak) 시스템
- 💎 가치 있는 프리미엄 기능
- 🎯 명확한 목표 (100일)

---

**문서 버전**: 1.0.0
**최종 업데이트**: 2025-10-01
**작성자**: Mission100 개발팀
