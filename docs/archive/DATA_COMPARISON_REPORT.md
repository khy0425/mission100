# 🔍 운동 프로그램 데이터 비교 분석 보고서

## 📋 요약

이미지 문서와 앱 코드 간 **중대한 불일치 발견**

---

## ⚠️ 핵심 문제

### 1. 운동 종목 불일치

| 항목 | 이미지 문서 | 앱 코드 (`workout_data.dart`) |
|------|-------------|-------------------------------|
| **운동 종목** | 🔴 **푸시업 단독** | 🔴 **버피 + 푸시업 혼합** |
| **프로그램 목표** | 6주 만에 푸시업 100개 달성 | 버피 20회 + 푸시업 50회 = 70회 |
| **데이터 구조** | 1차원 배열 (푸시업 횟수만) | 2차원 구조 (버피, 푸시업 분리) |

### 2. 레벨 분류 불일치

#### 이미지 문서 (3단계)
1. **5개 이하** (초보)
2. **6-10개** (중급)
3. **11-20개** (고급)

그리고 3주차부터:
1. **16-20개**
2. **21-25개**
3. **25개 초과**

그리고 5주차부터:
1. **31-35개**
2. **36-40개**
3. **40개 초과**

그리고 6주차 (최종):
1. **46-50개**
2. **51-60개**
3. **60개 초과** (목표: 100개)

#### 앱 코드 (4단계)
1. **Rookie** (초급)
2. **Rising** (중급)
3. **Alpha** (고급)
4. **Giga** (마스터)

---

## 📊 상세 데이터 비교

### WEEK 1 비교

#### 이미지: "5개 이하" - DAY 1
```
SET 1: 2개
SET 2: 3개
SET 3: 2개
SET 4: 2개
SET 5: 3+개
총: ~12개 (5세트)
세트간 휴식: 60초
```

#### 앱 코드: UserLevel.rookie - Week 1, Day 1
```dart
[2, 3, 2, 2, 3]  // 5세트
// 하지만 이것은 [버피 2회, 푸시업 3회, 버피 2회, 푸시업 2회, 버피 3회]로 해석됨
// 실제 로직: sets[0] = 버피, sets[1] = 푸시업
```

**문제**: 앱 코드는 `DailyWorkout(burpees: sets[0], pushups: sets[1])`로 파싱하므로, 5세트 배열에서 첫 번째 값만 버피, 두 번째 값만 푸시업으로 인식합니다.

---

## 🔴 치명적 오류

### workout_data.dart:202-206
```dart
static DailyWorkout? getWorkout(UserLevel level, int week, int day) {
  final sets = workoutPrograms[level]?[week]?[day];
  if (sets == null || sets.length < 2) return null;
  return DailyWorkout(burpees: sets[0], pushups: sets[1]);  // ❌ 잘못된 파싱!
}
```

**문제 분석**:
- `sets = [2, 3, 2, 2, 3]` (5개 요소)
- `burpees = sets[0] = 2`
- `pushups = sets[1] = 3`
- **나머지 [2, 2, 3]은 무시됨!**

**의도했던 것 (이미지 기준)**:
- 5세트 모두 푸시업
- SET 1: 2개, SET 2: 3개, SET 3: 2개, SET 4: 2개, SET 5: 3+개

---

## 📈 이미지 데이터 정확한 추출

### Week 1 - "5개 이하" (초보)

#### DAY 1 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 2 |
| 2 | 3 |
| 3 | 2 |
| 4 | 2 |
| 5 | 3+ |

#### DAY 2 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 3 |
| 2 | 4 |
| 3 | 2 |
| 4 | 3 |
| 5 | 4+ |

#### DAY 3 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 4 |
| 2 | 5 |
| 3 | 4 |
| 4 | 4 |
| 5 | 5+ |

### Week 1 - "6-10개" (중급)

#### DAY 1 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 6 |
| 2 | 6 |
| 3 | 4 |
| 4 | 4 |
| 5 | 5+ |

#### DAY 2 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 6 |
| 2 | 8 |
| 3 | 6 |
| 4 | 6 |
| 5 | 7+ |

#### DAY 3 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 8 |
| 2 | 10 |
| 3 | 7 |
| 4 | 7 |
| 5 | 10+ |

### Week 1 - "11-20개" (고급)

#### DAY 1 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 10 |
| 2 | 12 |
| 3 | 7 |
| 4 | 7 |
| 5 | 9+ |

#### DAY 2 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 10 |
| 2 | 12 |
| 3 | 8 |
| 4 | 8 |
| 5 | 12+ |

#### DAY 3 (휴식 60초)
| SET | 횟수 |
|-----|------|
| 1 | 11 |
| 2 | 15 |
| 3 | 9 |
| 4 | 9 |
| 5 | 13+ |

---

## 🎯 6주차 최종 목표 비교

### 이미지: Week 6 - "60개 초과" - DAY 3 (최종일)
```
세트간 휴식: 45초
SET 1: 26개
SET 2: 26개
SET 3: 33개
SET 4: 33개
SET 5: 26개
SET 6: 26개
SET 7: 22개
SET 8: 22개
SET 9: 60+개

총 9세트, 최종 세트에서 60+개로 100개 달성!
```

### 앱 코드: UserLevel.giga - Week 6, Day 3
```dart
[40, 45, 50, 50, 55, 60, 70]  // 7세트
// 하지만 실제로는 burpees=40, pushups=45만 사용됨
```

**최종 목표 불일치**:
- 이미지: 푸시업 100개 달성
- 앱 코드: 버피 20회 + 푸시업 50회 = 70회

---

## 🔧 수정 필요 사항

### 1. 데이터 구조 변경 (최우선)

**현재 구조 (잘못됨)**:
```dart
class DailyWorkout {
  final int burpees;
  final int pushups;
}

// 파싱: sets[0] = burpees, sets[1] = pushups
```

**올바른 구조 (이미지 기준)**:
```dart
class DailyWorkout {
  final List<int> sets;  // 각 세트의 푸시업 횟수
  final int restTimeSeconds;  // 세트간 휴식 시간
}

// 예: [2, 3, 2, 2, 3] = 5세트 푸시업
```

### 2. 레벨 시스템 재정의

**옵션 A: 초기 능력 기반 (이미지 방식)**
```dart
enum InitialLevel {
  under5,      // 5개 이하
  level6to10,  // 6-10개
  level11to20, // 11-20개
}
```

**옵션 B: 주차별 동적 레벨 (이미지 방식)**
```dart
// Week 1-2: 5개 이하 / 6-10 / 11-20
// Week 3-4: 16-20 / 21-25 / 25+
// Week 5: 31-35 / 36-40 / 40+
// Week 6: 46-50 / 51-60 / 60+
```

### 3. 휴식 시간 수정

**현재 (잘못됨)**:
```dart
static Map<UserLevel, int> get restTimeSeconds => {
  UserLevel.rookie: 90,  // 모든 레벨 90초
  UserLevel.rising: 90,
  UserLevel.alpha: 90,
  UserLevel.giga: 90,
};
```

**올바른 데이터 (이미지 기준)**:
```dart
// Week 1: DAY1=60s, DAY2=60s, DAY3=60s
// Week 2: DAY1=60s, DAY2=90s, DAY3=120s
// Week 5-6: 일부 DAY는 45초로 단축
```

### 4. 세트 수 변경

**이미지 기준**:
- Week 1-4: 5세트
- Week 5: 5-8세트 (DAY에 따라 다름)
- Week 6: 5-9세트 (DAY에 따라 다름)

**현재 앱 코드**: 세트 수가 배열 길이로 결정되지만, 오직 2개 요소만 사용함

---

## 📌 권장 조치

### 즉시 조치 필요 🔴

1. **데이터 파싱 로직 수정**
   - `workout_data.dart`의 `getWorkout()` 메서드 수정
   - 버피 제거, 푸시업 전용 프로그램으로 전환

2. **전체 운동 데이터 재입력**
   - 이미지에서 추출한 정확한 데이터로 교체
   - 6주 × 3일 × 3레벨 = 54개 운동 세션 데이터

3. **UI 업데이트**
   - "버피 + 푸시업" → "푸시업" 표시로 변경
   - 목표 "70회" → "100개" 변경

### 중요도 중간 🟡

4. **레벨 시스템 재설계**
   - 4단계 Chad 레벨 → 초기 능력 기반 3단계로 변경
   - 또는 주차별 동적 난이도 조정 구현

5. **휴식 시간 동적 관리**
   - 주차 및 일차에 따른 정확한 휴식 시간 적용

6. **문서 업데이트**
   - README, ASO 키워드, 스토어 설명 모두 확인
   - "버피" 언급 제거

### 장기 개선 🟢

7. **데이터 검증 테스트 작성**
   - 운동 데이터 무결성 테스트
   - 이미지 문서와 코드 일치 여부 자동 검증

---

## 📁 관련 파일

### 수정 필요
- ❌ `/lib/utils/workout_data.dart` (전체 재작성 필요)
- ❌ `/lib/services/workout_program_service.dart` (파싱 로직 수정)
- ❌ `/lib/models/workout_session.dart` (데이터 모델 확인)
- ❌ `/lib/screens/workout_screen.dart` (UI 텍스트 수정)

### 참조 문서
- ✅ `/docs/운동/1주차_수정-1.jpg` ~ `6주차_수정-6.jpg`
- ✅ `/docs/운동/5개이하.jpg`
- ✅ `/docs/운동/WORKOUT_PLAN_EXTRACTED.md` (이 보고서에서 생성)

---

## 🤔 추가 확인 필요

1. **의도 확인**:
   - 앱이 원래 버피+푸시업 혼합 프로그램을 의도했는지?
   - 아니면 푸시업 단독 프로그램이 맞는지?

2. **이미지 문서 최신성**:
   - 이미지 문서가 최신 버전인지?
   - 앱 코드가 오래된 버전인지?

3. **사용자 데이터 마이그레이션**:
   - 이미 운동 중인 사용자 데이터는?
   - 데이터 구조 변경 시 마이그레이션 계획은?

---

## 📝 결론

**이미지 문서 = 정답**으로 가정할 경우, 앱 코드의 `workout_data.dart` 전체를 재작성해야 합니다.

**핵심 문제**:
1. 🔴 버피+푸시업 혼합 → 푸시업 단독으로 변경
2. 🔴 데이터 파싱 로직 오류 (5세트 중 2개만 사용)
3. 🔴 목표 불일치 (70회 vs 100개)
4. 🟡 휴식 시간 부정확 (모두 90초 vs 60/90/120/45초)
5. 🟡 레벨 분류 불일치 (4단계 vs 주차별 동적)

**예상 작업 시간**: 4-6시간 (데이터 재입력 + 로직 수정 + 테스트)

---

**작성일**: 2025-10-03
**분석자**: Claude Code
**출처**: docs/운동/*.jpg 이미지 분석
